{"version":3,"file":"js/app.fc534809.js","mappings":"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","sources":["webpack://ui/./src/App.vue","webpack://ui/./src/components/BattleMap.vue","webpack://ui/./src/models/BattleMap.ts","webpack://ui/./src/models/Marker.ts","webpack://ui/./src/components/EntityMarker.vue","webpack://ui/./src/components/EntityMarker.vue?6f1a","webpack://ui/./src/components/EntityMarker.vue?c08c","webpack://ui/./src/components/EntityMarker.vue?fccb","webpack://ui/./src/components/MarkerBuilder.vue","webpack://ui/./src/components/MarkerBuilder.vue?74ba","webpack://ui/./src/components/MarkerBuilder.vue?331a","webpack://ui/./src/components/MarkerBuilder.vue?0967","webpack://ui/./src/components/DiceRoller.vue","webpack://ui/./src/components/DiceRoller.vue?d17e","webpack://ui/./src/components/DiceRoller.vue?3bc5","webpack://ui/./src/components/DiceRoller.vue?738c","webpack://ui/./src/components/DiceResult.vue","webpack://ui/./src/models/RollResult.ts","webpack://ui/./src/components/IndividualDie.vue","webpack://ui/./src/components/IndividualDie.vue?fb12","webpack://ui/./src/components/IndividualDie.vue?ddd8","webpack://ui/./src/components/IndividualDie.vue?996b","webpack://ui/./src/components/DiceResult.vue?2208","webpack://ui/./src/components/DiceResult.vue?38a6","webpack://ui/./src/components/DiceResult.vue?c383","webpack://ui/./src/components/DmRollResult.vue","webpack://ui/./src/components/DmRollResult.vue?6995","webpack://ui/./src/components/DmRollResult.vue?e332","webpack://ui/./src/components/DmRollResult.vue?2cbf","webpack://ui/./src/socket.ts","webpack://ui/./src/components/RollLog.vue","webpack://ui/./src/components/RollLog.vue?9f49","webpack://ui/./src/components/RollLog.vue?c46e","webpack://ui/./src/components/RollLog.vue?7b24","webpack://ui/./src/components/LayerManager.vue","webpack://ui/./src/components/LayerManager.vue?cc71","webpack://ui/./src/components/LayerManager.vue?3343","webpack://ui/./src/components/LayerManager.vue?6e56","webpack://ui/./src/components/BattleMap.vue?29d3","webpack://ui/./src/components/BattleMap.vue?8b91","webpack://ui/./src/components/BattleMap.vue?32c7","webpack://ui/./src/components/JoinGame.vue","webpack://ui/./src/api.ts","webpack://ui/./src/components/JoinGame.vue?e590","webpack://ui/./src/components/JoinGame.vue?81d0","webpack://ui/./src/components/JoinGame.vue?bfba","webpack://ui/./src/App.vue?38a5","webpack://ui/./src/App.vue?892f","webpack://ui/./src/App.vue?0e40","webpack://ui/./src/store.ts","webpack://ui/./src/main.ts","webpack://ui/webpack/bootstrap","webpack://ui/webpack/runtime/chunk loaded","webpack://ui/webpack/runtime/compat get default export","webpack://ui/webpack/runtime/define property getters","webpack://ui/webpack/runtime/global","webpack://ui/webpack/runtime/hasOwnProperty shorthand","webpack://ui/webpack/runtime/make namespace object","webpack://ui/webpack/runtime/jsonp chunk loading","webpack://ui/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.gameJoined)?_c('span',{staticClass:\"back-button\",on:{\"click\":_vm.goBack}},[_c('b-icon-arrow-left'),_vm._v(\" Back\")],1):_vm._e(),(_vm.gameJoined)?_c('BattleMap',{attrs:{\"gameId\":_vm.gameId,\"playerId\":_vm.playerId,\"enterAsDm\":_vm.enterAsDm},on:{\"setSocket\":_vm.setSocket}}):_c('JoinGame',{on:{\"joinedGame\":_vm.joinedGame}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('b-container',{staticClass:\"battle-map\",attrs:{\"fluid\":\"\"}},[_c('b-row',{staticClass:\"fullHeight\"},[_c('b-col',{staticClass:\"fullHeight\",staticStyle:{\"padding-left\":\"0\",\"padding-right\":\"1px\"},attrs:{\"id\":\"battleMapCol\"}},[_c('div',{staticClass:\"game-id-text\"},[_c('span',[_vm._v(\"Player Name: \"+_vm._s(_vm.playerId)),(_vm.isDM)?_c('span',{staticStyle:{\"padding-left\":\"4px\",\"color\":\"var(--bs-success)\",\"font-weight\":\"bold\"}},[_vm._v(\"(DM)\")]):_vm._e()]),_c('span',[_vm._v(\"Game ID: \"+_vm._s(_vm.gameId))])]),_c('div',{staticClass:\"results-area\"},[_vm._l((_vm.diceResults),function(result){return _c('DiceResult',{key:result.id,attrs:{\"roll\":result.roll}})}),_vm._l((_vm.dmResults),function(result){return _c('DmRollResult',{key:result.id,attrs:{\"result\":result.dmRollValue}})})],2),_c('svg',{ref:\"map\",staticClass:\"battle-map-svg\",attrs:{\"width\":\"100%\",\"height\":\"100%\",\"viewBox\":\"0 0 1000 1000\"},on:{\"mousemove\":_vm.onMousemove,\"mouseup\":_vm.putDownMarker}},[_c('defs',[_c('pattern',{attrs:{\"id\":\"grid\",\"width\":\"80\",\"height\":\"80\",\"patternUnits\":\"userSpaceOnUse\"}},[_c('path',{attrs:{\"d\":\"M 80 0 L 0 0 0 80\",\"fill\":\"none\",\"stroke\":\"gray\",\"stroke-width\":\"1\"}})])]),_c('rect',{attrs:{\"x\":\"-2000\",\"y\":\"-2000\",\"width\":\"4000\",\"height\":\"4000\",\"fill\":\"url(#grid)\"}}),_vm._l((_vm.markers),function(marker,index){return _c('EntityMarker',{key:`${marker.name}-${index}`,attrs:{\"marker\":marker,\"dragging\":_vm.isDragging},on:{\"editMarker\":_vm.editMarker,\"pickUp\":_vm.pickUpMarker}})})],2),_c('div',{ref:\"trashArea\",style:(_vm.trashAreaStyle),attrs:{\"id\":\"trashArea\"},on:{\"mousemove\":_vm.onMousemove,\"mouseup\":_vm.putDownMarker}},[_c('b-icon-trash',{staticStyle:{\"margin-right\":\"1rem\"}}),_c('span',[_vm._v(\"Drag Here to Delete\")])],1)]),_c('b-col',{ref:\"rightCol\",staticClass:\"fullHeight d-none d-lg-block\",attrs:{\"lg\":\"3\"}},[_c('span',{staticClass:\"tab-selector\",class:{ selected: _vm.isSelectedTab(_vm.tabs.BUILDER) },style:(_vm.tabSelectorStyle),on:{\"click\":function($event){_vm.selectedTab = _vm.tabs.BUILDER}}},[_c('b-icon-hammer')],1),_c('span',{staticClass:\"tab-selector lower-2\",class:{ selected: _vm.isSelectedTab(_vm.tabs.DICE) },style:(_vm.tabSelectorStyle),on:{\"click\":function($event){_vm.selectedTab = _vm.tabs.DICE}}},[_c('b-icon-dice-6')],1),_c('span',{staticClass:\"tab-selector lower-3\",class:{ selected: _vm.isSelectedTab(_vm.tabs.LOG) },style:(_vm.tabSelectorStyle),on:{\"click\":function($event){_vm.selectedTab = _vm.tabs.LOG}}},[_c('b-icon-clock-history')],1),_c('span',{staticClass:\"tab-selector lower\",class:{ selected: _vm.isSelectedTab(_vm.tabs.LAYERS) },style:(_vm.tabSelectorStyle),on:{\"click\":function($event){_vm.selectedTab = _vm.tabs.LAYERS}}},[_c('b-icon-layers-fill')],1),_c('keep-alive',[(_vm.selectedTab === _vm.tabs.BUILDER)?_c('MarkerBuilder',{attrs:{\"marker\":_vm.editingMarker},on:{\"createMarker\":_vm.addMarker,\"updateMarker\":_vm.updateMarker,\"cancelEdit\":_vm.cancelEditMarker,\"removeMarker\":_vm.removeMarker}}):_vm._e(),(_vm.selectedTab === _vm.tabs.DICE)?_c('DiceRoller',{on:{\"diceRoll\":_vm.emitDiceRoll,\"dmRoll\":_vm.emitDmRoll}}):_vm._e(),(_vm.selectedTab === _vm.tabs.LOG)?_c('RollLog',{attrs:{\"rolls\":_vm.rollsLog,\"dmRolls\":_vm.dmRollsLog}}):_vm._e(),(_vm.selectedTab === _vm.tabs.LAYERS)?_c('LayerManager',{attrs:{\"markers\":_vm.markers},on:{\"updateMarkerLayers\":_vm.updateMarkerLayers}}):_vm._e()],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Marker from './Marker';\r\n\r\nexport default class BattleMap {\r\n    markers: Marker[];\r\n\r\n    constructor() {\r\n        this.markers = [] as Marker[];\r\n    }\r\n\r\n    getMarkers(): Marker[] {\r\n        return this.markers.sort((a, b) => a.layer - b.layer);\r\n    }\r\n\r\n    addMarker(marker: Marker): void {\r\n        this.markers.push(marker);\r\n    }\r\n\r\n    removeMarker(markerId: string): void {\r\n        this.markers = this.markers.filter((m) => m.id !== markerId);\r\n    }\r\n\r\n    getNextLayer(): number {\r\n        return this.markers.length;\r\n    }\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\nexport default class Marker {\r\n    public id: string;\r\n    public name: string;\r\n    public color: string;\r\n    public fontColor: string;\r\n    public x: number;\r\n    public y: number;\r\n    public radius: number;\r\n    public condition: string;\r\n    public height: number;\r\n    public layer: number;\r\n\r\n    private blinkingInterval: number | undefined;\r\n\r\n    constructor(\r\n        name: string,\r\n        color: string,\r\n        fontColor: string,\r\n        x: number,\r\n        y: number,\r\n        radius: number,\r\n        condition = '',\r\n        height = 0,\r\n        layer: number,\r\n        id?: string\r\n    ) {\r\n        this.id = id ?? uuidv4();\r\n\r\n        this.name = name;\r\n        this.color = color;\r\n        this.fontColor = fontColor;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.radius = radius;\r\n        this.condition = condition;\r\n        this.height = height;\r\n        this.layer = layer;\r\n    }\r\n\r\n    setName(name: string): void {\r\n        this.name = name;\r\n    }\r\n\r\n    setColor(color: string): void {\r\n        this.color = color;\r\n    }\r\n\r\n    setFontColor(color: string): void {\r\n        this.fontColor = color;\r\n    }\r\n\r\n    setRadius(radius: number): void {\r\n        this.radius = radius;\r\n    }\r\n\r\n    setCondition(condition: string): void {\r\n        this.condition = condition;\r\n    }\r\n\r\n    setHeight(height: number): void {\r\n        this.height = height;\r\n    }\r\n\r\n    setLayer(layer: number): void {\r\n        this.layer = layer;\r\n    }\r\n\r\n    moveMarkerTo(x: number, y: number): void {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    moveMarkerToSmooth(x: number, y: number): void {\r\n        const xDistance = x - this.x;\r\n        const yDistance = y - this.y;\r\n\r\n        const xIncrement = xDistance / 100;\r\n        const yIncrement = yDistance / 100;\r\n\r\n        let count = 0;\r\n        const interval = setInterval(() => {\r\n            if (count === 100) {\r\n                clearInterval(interval);\r\n            } else {\r\n                this.x += xIncrement;\r\n                this.y += yIncrement;\r\n                count += 1;\r\n            }\r\n        }, 1);\r\n    }\r\n\r\n    toString(): string {\r\n        return JSON.stringify({\r\n            id: this.id,\r\n            name: this.name,\r\n            color: this.color,\r\n            fontColor: this.fontColor,\r\n            x: this.x,\r\n            y: this.y,\r\n            radius: this.radius,\r\n            condition: this.condition,\r\n            height: this.height,\r\n            layer: this.layer,\r\n        });\r\n    }\r\n\r\n    toSvgString(): string {\r\n        return `\r\n        <svg class=\"marker-layer-svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 200 200\">\r\n            <g class=\"entity-marker\">\r\n                    <circle\r\n                        class=\"border-circle\"\r\n                        fill=\"black\"\r\n                        cx=\"100\"\r\n                        cy=\"100\"\r\n                        r=\"90\"\r\n                    ></circle>\r\n                    <circle\r\n                        fill=\"${this.color}\"\r\n                        cx=\"100\"\r\n                        cy=\"100\"\r\n                        r=\"88\"\r\n                    ></circle>\r\n                </g>\r\n            </svg>\r\n        `;\r\n    }\r\n}\r\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('g',{ref:\"marker\",staticClass:\"entity-marker\",style:(_vm.markerStyles),on:{\"mousedown\":_vm.pickUp,\"contextmenu\":function($event){return _vm.edit.apply(null, arguments)}}},[(_vm.marker.condition.length > 0)?_c('circle',{staticClass:\"circle\",attrs:{\"cx\":_vm.marker.x,\"cy\":_vm.marker.y,\"r\":_vm.marker.radius + 4,\"fill\":\"none\",\"stroke\":\"red\",\"stroke-width\":\"5px\",\"stroke-dasharray\":\"1\",\"opacity\":\"0.7\"}}):_vm._e(),_c('circle',{staticClass:\"border-circle\",attrs:{\"fill\":\"black\",\"cx\":_vm.marker.x,\"cy\":_vm.marker.y,\"r\":_vm.marker.radius}}),_c('circle',{attrs:{\"fill\":_vm.marker.color,\"cx\":_vm.marker.x,\"cy\":_vm.marker.y,\"r\":_vm.marker.radius - 2}}),_c('text',{staticClass:\"marker-name\",style:(`font-size: ${_vm.marker.radius / 2}`),attrs:{\"x\":_vm.marker.x,\"y\":_vm.marker.y,\"fill\":_vm.marker.fontColor,\"text-anchor\":\"middle\",\"dy\":\".3em\"}},[_vm._v(\" \"+_vm._s(_vm.marker.name)+\" \")]),_c('text',{staticClass:\"condition-text\",style:(`font-size: 12px;`),attrs:{\"x\":_vm.marker.x,\"y\":_vm.marker.y + _vm.marker.radius + 16,\"fill\":\"#000\",\"text-anchor\":\"middle\"}},[_vm._v(\" \"+_vm._s(_vm.marker.condition)+\" \")]),_c('text',{staticClass:\"height-text\",style:(`font-size: ${_vm.marker.radius / 3}px;`),attrs:{\"x\":_vm.marker.x,\"y\":_vm.marker.y + _vm.marker.radius / 1.5,\"text-anchor\":\"middle\",\"fill\":_vm.marker.fontColor}},[_vm._v(\" \"+_vm._s(_vm.markerHeight)+\" \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Vue from 'vue';\r\n\r\nimport Marker from '@/models/Marker';\r\n\r\nexport default Vue.extend({\r\n    name: 'EntityMarker',\r\n    props: {\r\n        marker: Marker,\r\n        dragging: Boolean,\r\n    },\r\n    methods: {\r\n        async pickUp(event: MouseEvent): Promise<void> {\r\n            event.preventDefault();\r\n\r\n            if (event.button !== 2) {\r\n                this.$emit('pickUp', {\r\n                    marker: this.marker,\r\n                    ref: this.$refs.marker,\r\n                });\r\n            }\r\n        },\r\n        edit(event: MouseEvent): void {\r\n            event.preventDefault();\r\n            this.$emit('editMarker', this.marker);\r\n        },\r\n    },\r\n    computed: {\r\n        markerStyles(): { [key: string]: string } {\r\n            const cursor = this.dragging ? 'grabbing' : 'grab';\r\n            const shadow =\r\n                this.marker.height > 0\r\n                    ? 'drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4))'\r\n                    : 'drop-shadow(0)';\r\n            return {\r\n                '--hover-cursor': cursor,\r\n                '--marker-shadow': shadow,\r\n            };\r\n        },\r\n        borderColor(): string {\r\n            return this.marker.condition.length > 0 ? 'red' : 'black';\r\n        },\r\n        markerHeight(): string {\r\n            return +this.marker.height > 0 ? `${this.marker.height}ft` : '';\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EntityMarker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EntityMarker.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EntityMarker.vue?vue&type=template&id=684fe650&scoped=true&\"\nimport script from \"./EntityMarker.vue?vue&type=script&lang=ts&\"\nexport * from \"./EntityMarker.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EntityMarker.vue?vue&type=style&index=0&id=684fe650&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"684fe650\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('b-container',{staticClass:\"marker-builder\",attrs:{\"fluid\":\"\"}},[(!_vm.marker)?_c('h3',{staticClass:\"title\"},[_vm._v(\"Add New Marker\")]):_c('h3',{staticClass:\"title\"},[_vm._v(\"Edit Marker\")]),_c('b-form',{staticClass:\"marker-form\",on:{\"submit\":_vm.submit}},[_c('b-form-group',{staticClass:\"marker-form-group\",attrs:{\"id\":\"input-name-group\",\"label\":\"Label\",\"label-for\":\"marker-label\"}},[_c('b-form-input',{attrs:{\"id\":\"marker-label\",\"type\":\"text\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('b-form-group',{staticClass:\"marker-form-group\",attrs:{\"id\":\"input-color-group\",\"label\":\"Marker Color\",\"label-for\":\"marker-color\"}},[_c('b-form-input',{attrs:{\"id\":\"marker-color\",\"type\":\"color\"},model:{value:(_vm.form.color),callback:function ($$v) {_vm.$set(_vm.form, \"color\", $$v)},expression:\"form.color\"}})],1),_c('b-form-group',{staticClass:\"marker-form-group\",attrs:{\"id\":\"input-font-color-group\",\"label\":\"Font Color\",\"label-for\":\"marker-font-color\"}},[_c('b-form-input',{attrs:{\"id\":\"marker-font-color\",\"type\":\"color\"},model:{value:(_vm.form.fontColor),callback:function ($$v) {_vm.$set(_vm.form, \"fontColor\", $$v)},expression:\"form.fontColor\"}})],1),_c('b-form-group',{staticClass:\"marker-form-group\",attrs:{\"id\":\"input-name-group\",\"label\":\"Size\",\"label-for\":\"marker-size\"}},[_c('b-form-select',{staticStyle:{\"width\":\"100%\",\"text-align\":\"center\",\"padding\":\"0.5rem 0rem\"},attrs:{\"id\":\"marker-size\",\"options\":_vm.sizeOptions},model:{value:(_vm.form.size),callback:function ($$v) {_vm.$set(_vm.form, \"size\", $$v)},expression:\"form.size\"}})],1),_c('b-form-group',{staticClass:\"marker-form-group\",attrs:{\"id\":\"input-condition-group\",\"label\":\"Condition\",\"label-for\":\"marker-condition\"}},[_c('b-form-input',{attrs:{\"id\":\"marker-condition\"},model:{value:(_vm.form.condition),callback:function ($$v) {_vm.$set(_vm.form, \"condition\", $$v)},expression:\"form.condition\"}})],1),_c('b-form-group',{staticClass:\"marker-form-group\",attrs:{\"id\":\"input-height-group\",\"label\":\"Flying Height\",\"label-for\":\"marker-height\"}},[_c('b-form-input',{attrs:{\"id\":\"marker-height\",\"type\":\"number\",\"min\":\"0\"},model:{value:(_vm.form.height),callback:function ($$v) {_vm.$set(_vm.form, \"height\", $$v)},expression:\"form.height\"}})],1)],1),_c('svg',{staticClass:\"layer-marker-svg\",attrs:{\"width\":\"100%\",\"height\":\"100%\",\"viewBox\":\"0 0 400 400\"}},[_c('g',{staticClass:\"entity-marker\"},[(_vm.form.condition.length > 0)?_c('circle',{staticClass:\"circle\",attrs:{\"cx\":200,\"cy\":200,\"r\":+_vm.form.size + 4,\"fill\":\"none\",\"stroke\":\"red\",\"stroke-width\":\"5px\",\"stroke-dasharray\":\"1\",\"opacity\":\"0.7\"}}):_vm._e(),_c('circle',{staticClass:\"border-circle\",attrs:{\"fill\":'black',\"cx\":200,\"cy\":200,\"r\":+_vm.form.size}}),_c('circle',{attrs:{\"fill\":_vm.form.color,\"cx\":200,\"cy\":200,\"r\":+_vm.form.size - 2}}),_c('text',{staticClass:\"marker-name\",style:(`font-size: ${+_vm.form.size / 2}px`),attrs:{\"x\":200,\"y\":200,\"fill\":_vm.form.fontColor,\"text-anchor\":\"middle\",\"dy\":\".3em\"}},[_vm._v(\" \"+_vm._s(_vm.form.name)+\" \")]),_c('text',{staticClass:\"condition-text\",style:(`font-size: 12px;`),attrs:{\"x\":200,\"y\":200 + _vm.form.size + 16,\"text-anchor\":\"middle\",\"fill\":\"#000\"}},[_vm._v(\" \"+_vm._s(_vm.form.condition)+\" \")]),_c('text',{staticClass:\"height-text\",style:(`font-size: ${_vm.form.size / 3}px;`),attrs:{\"x\":200,\"y\":200 + _vm.form.size / 1.2,\"text-anchor\":\"middle\",\"fill\":_vm.form.fontColor}},[_vm._v(\" \"+_vm._s(_vm.formHeight)+\" \")])])]),(!_vm.marker)?_c('div',{staticClass:\"marker-builder-button\"},[_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":_vm.createMarker}},[_vm._v(\"Add Marker\")])],1):_vm._e(),(_vm.marker)?_c('div',{staticClass:\"marker-builder-button\"},[_c('span',[_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":_vm.updateMarker}},[_vm._v(\" Update Marker \")])],1),_c('span',[_c('b-button',{staticClass:\"cancel-button\",attrs:{\"variant\":\"secondary\"},on:{\"click\":_vm.deselectMarker}},[_vm._v(\" Cancel \")])],1)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Marker from '@/models/Marker';\r\nimport Vue from 'vue';\r\n\r\nexport default Vue.extend({\r\n    name: 'MarkerBuilder',\r\n    props: {\r\n        marker: Marker,\r\n    },\r\n    mounted() {\r\n        if (this.marker) {\r\n            this.form.name = this.marker.name;\r\n            this.form.color = this.marker.color;\r\n            this.form.fontColor = this.marker.fontColor;\r\n            this.form.size = this.marker.radius;\r\n            this.form.condition = this.marker.condition;\r\n            this.form.height = this.marker.height;\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            form: {\r\n                name: '',\r\n                color: '#00BFFF',\r\n                fontColor: '#000',\r\n                size: 40,\r\n                condition: '',\r\n                height: 0,\r\n            },\r\n            formDefaults: {\r\n                name: '',\r\n                color: '#00BFFF',\r\n                fontColor: '#000',\r\n                size: 40,\r\n                condition: '',\r\n                height: 0,\r\n            },\r\n            sizeOptions: [\r\n                { text: 'Tiny', value: 20 },\r\n                { text: 'Small/Medium', value: 40 },\r\n                { text: 'Large', value: 80 },\r\n                { text: 'Huge', value: 120 },\r\n                { text: 'Gargantuan', value: 160 },\r\n            ],\r\n        };\r\n    },\r\n    methods: {\r\n        submit(event: SubmitEvent) {\r\n            event.preventDefault();\r\n            console.log('submitted');\r\n\r\n            if (this.marker) {\r\n                this.updateMarker();\r\n            } else {\r\n                this.createMarker();\r\n            }\r\n        },\r\n        createMarker(): void {\r\n            this.$emit('createMarker', this.form);\r\n\r\n            this.form.name = '';\r\n            this.form.condition = '';\r\n            this.form.height = 0;\r\n        },\r\n\r\n        updateMarker(): void {\r\n            this.marker.setName(this.form.name);\r\n            this.marker.setColor(this.form.color);\r\n            this.marker.setFontColor(this.form.fontColor);\r\n            this.marker.setRadius(+this.form.size);\r\n            this.marker.setCondition(this.form.condition);\r\n            this.marker.setHeight(this.form.height);\r\n\r\n            this.$emit('updateMarker');\r\n            this.form = Object.assign({}, this.formDefaults);\r\n        },\r\n        removeMarker(): void {\r\n            if (this.marker) {\r\n                this.$emit('removeMarker', this.marker.id);\r\n                this.form = Object.assign({}, this.formDefaults);\r\n            }\r\n        },\r\n        deselectMarker(): void {\r\n            this.$emit('cancelEdit');\r\n            this.form = Object.assign({}, this.formDefaults);\r\n        },\r\n    },\r\n    computed: {\r\n        formHeight(): string {\r\n            return +this.form.height > 0 ? `${this.form.height}ft` : '';\r\n        },\r\n    },\r\n    watch: {\r\n        marker: function (newMarker: Marker | undefined) {\r\n            if (newMarker) {\r\n                this.form.name = newMarker.name;\r\n                this.form.color = newMarker.color;\r\n                this.form.fontColor = newMarker.fontColor;\r\n                this.form.size = newMarker.radius;\r\n                this.form.condition = newMarker.condition;\r\n                this.form.height = newMarker.height;\r\n            }\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MarkerBuilder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MarkerBuilder.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MarkerBuilder.vue?vue&type=template&id=1239fd74&\"\nimport script from \"./MarkerBuilder.vue?vue&type=script&lang=ts&\"\nexport * from \"./MarkerBuilder.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MarkerBuilder.vue?vue&type=style&index=0&id=1239fd74&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"dice-roller\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"Roll Dice\")]),_c('div',{staticClass:\"dice-selector\"},[_c('DiceD20',{staticClass:\"dice\",attrs:{\"size\":_vm.diceSize},on:{\"click\":function($event){return _vm.handleClick($event, _vm.DICE.d20)}}}),_c('DiceD12',{staticClass:\"dice\",attrs:{\"size\":_vm.diceSize},on:{\"click\":function($event){return _vm.handleClick($event, _vm.DICE.d12)}}}),_c('DiceD10',{staticClass:\"dice\",attrs:{\"size\":_vm.diceSize},on:{\"click\":function($event){return _vm.handleClick($event, _vm.DICE.d10)}}}),_c('DiceD8',{staticClass:\"dice\",attrs:{\"size\":_vm.diceSize},on:{\"click\":function($event){return _vm.handleClick($event, _vm.DICE.d8)}}}),_c('DiceD6',{staticClass:\"dice\",attrs:{\"size\":_vm.diceSize},on:{\"click\":function($event){return _vm.handleClick($event, _vm.DICE.d6)}}}),_c('DiceD4',{staticClass:\"dice\",attrs:{\"size\":_vm.diceSize},on:{\"click\":function($event){return _vm.handleClick($event, _vm.DICE.d4)}}}),_c('b-form-input',{staticClass:\"dice-amounts amount-d20\",attrs:{\"type\":\"number\",\"min\":\"0\"},model:{value:(_vm.diceAmounts[_vm.DICE.d20]),callback:function ($$v) {_vm.$set(_vm.diceAmounts, _vm.DICE.d20, $$v)},expression:\"diceAmounts[DICE.d20]\"}}),_c('b-form-input',{staticClass:\"dice-amounts amount-d12\",attrs:{\"type\":\"number\",\"min\":\"0\"},model:{value:(_vm.diceAmounts[_vm.DICE.d12]),callback:function ($$v) {_vm.$set(_vm.diceAmounts, _vm.DICE.d12, $$v)},expression:\"diceAmounts[DICE.d12]\"}}),_c('b-form-input',{staticClass:\"dice-amounts amount-d10\",attrs:{\"type\":\"number\",\"min\":\"0\"},model:{value:(_vm.diceAmounts[_vm.DICE.d10]),callback:function ($$v) {_vm.$set(_vm.diceAmounts, _vm.DICE.d10, $$v)},expression:\"diceAmounts[DICE.d10]\"}}),_c('b-form-input',{staticClass:\"dice-amounts amount-d8\",attrs:{\"type\":\"number\",\"min\":\"0\"},model:{value:(_vm.diceAmounts[_vm.DICE.d8]),callback:function ($$v) {_vm.$set(_vm.diceAmounts, _vm.DICE.d8, $$v)},expression:\"diceAmounts[DICE.d8]\"}}),_c('b-form-input',{staticClass:\"dice-amounts amount-d6\",attrs:{\"type\":\"number\",\"min\":\"0\"},model:{value:(_vm.diceAmounts[_vm.DICE.d6]),callback:function ($$v) {_vm.$set(_vm.diceAmounts, _vm.DICE.d6, $$v)},expression:\"diceAmounts[DICE.d6]\"}}),_c('b-form-input',{staticClass:\"dice-amounts amount-d4\",attrs:{\"type\":\"number\",\"min\":\"0\"},model:{value:(_vm.diceAmounts[_vm.DICE.d4]),callback:function ($$v) {_vm.$set(_vm.diceAmounts, _vm.DICE.d4, $$v)},expression:\"diceAmounts[DICE.d4]\"}})],1),_c('div',{staticClass:\"modifier\"},[_c('div',{staticClass:\"modifier-title\"},[_vm._v(\"Modifier:\")]),_c('b-input-group',[_c('b-form-input',{staticClass:\"modifier-input\",attrs:{\"type\":\"number\"},model:{value:(_vm.modifier),callback:function ($$v) {_vm.modifier=$$v},expression:\"modifier\"}})],1)],1),_c('div',{staticClass:\"advantage\"},[_c('b-form-radio-group',{attrs:{\"options\":_vm.advantageOptions,\"name\":\"advantage-options\",\"button-variant\":\"outline-primary\",\"buttons\":\"\"},model:{value:(_vm.selectedAdvantageOption),callback:function ($$v) {_vm.selectedAdvantageOption=$$v},expression:\"selectedAdvantageOption\"}}),_c('span',{staticClass:\"helper-text\"},[_vm._v(_vm._s(_vm.advantageHelperText))])],1),_c('div',{staticClass:\"roll-button\"},[(!_vm.isDM)?_c('b-button',{attrs:{\"disabled\":_vm.disableRoll,\"variant\":\"success\"},on:{\"click\":function($event){return _vm.rollDice(false)}}},[_vm._v(\"Roll\")]):_vm._e(),(_vm.isDM)?_c('b-button',{attrs:{\"disabled\":_vm.disableRoll,\"variant\":\"success\"},on:{\"click\":function($event){return _vm.rollDice(false)}}},[_vm._v(\"Public Roll\")]):_vm._e(),(_vm.isDM)?_c('b-button',{attrs:{\"disabled\":_vm.disableRoll,\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.rollDice(true)}}},[_vm._v(\"DM Roll\")]):_vm._e()],1),_c('div',{staticClass:\"reset-buttons\",staticStyle:{\"margin-top\":\"2rem\",\"display\":\"flex\",\"justify-content\":\"space-around\"}},[_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-primary\"},on:{\"click\":_vm.clearDice}},[_vm._v(\" Clear Dice \")]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-primary\"},on:{\"click\":_vm.clearModifier}},[_vm._v(\" Clear Modifier \")]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-danger\"},on:{\"click\":_vm.clearAll}},[_vm._v(\" Clear All \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Vue from 'vue';\r\nimport DiceD20 from 'vue-material-design-icons/DiceD20.vue';\r\nimport DiceD12 from 'vue-material-design-icons/DiceD12.vue';\r\nimport DiceD10 from 'vue-material-design-icons/DiceD10.vue';\r\nimport DiceD8 from 'vue-material-design-icons/DiceD8.vue';\r\nimport DiceD6 from 'vue-material-design-icons/DiceD6.vue';\r\nimport DiceD4 from 'vue-material-design-icons/DiceD4.vue';\r\n\r\nexport default Vue.extend({\r\n    name: 'DiceRoller',\r\n    components: {\r\n        DiceD20,\r\n        DiceD12,\r\n        DiceD10,\r\n        DiceD8,\r\n        DiceD6,\r\n        DiceD4,\r\n    },\r\n    data() {\r\n        return {\r\n            DICE: {\r\n                d20: 20,\r\n                d12: 12,\r\n                d10: 10,\r\n                d8: 8,\r\n                d6: 6,\r\n                d4: 4,\r\n            },\r\n            diceAmounts: {\r\n                20: 0,\r\n                12: 0,\r\n                10: 0,\r\n                8: 0,\r\n                6: 0,\r\n                4: 0,\r\n            } as { [key: number]: number },\r\n            modifier: 0,\r\n            diceSize: 40,\r\n            selectedAdvantageOption: 'normal' as\r\n                | 'normal'\r\n                | 'advantage'\r\n                | 'disadvantage',\r\n            advantageOptions: [\r\n                { text: 'Normal', value: 'normal' },\r\n                { text: 'Advantage', value: 'advantage' },\r\n                { text: 'Disadvantage', value: 'disadvantage' },\r\n            ],\r\n        };\r\n    },\r\n    methods: {\r\n        handleClick(event: MouseEvent, diceValue: number): void {\r\n            event.preventDefault();\r\n            this.diceAmounts[diceValue] = +this.diceAmounts[diceValue] + 1;\r\n        },\r\n        getRandomInt(min: number, max: number) {\r\n            min = Math.ceil(min);\r\n            max = Math.floor(max);\r\n            return Math.floor(Math.random() * (max - min) + min);\r\n        },\r\n        rollDice(dmRoll: boolean) {\r\n            let rollValues = {} as { [key: number]: Array<number> };\r\n            for (let dieValue in this.diceAmounts) {\r\n                if (!Object.keys(rollValues).includes(dieValue)) {\r\n                    rollValues[dieValue] = [];\r\n                }\r\n\r\n                for (let i = 0; i < this.diceAmounts[dieValue]; i++) {\r\n                    const roll = this.getRandomInt(1, +dieValue + 1);\r\n                    rollValues[dieValue].push(roll);\r\n                }\r\n            }\r\n\r\n            if (dmRoll) {\r\n                this.$emit(\r\n                    'dmRoll',\r\n                    JSON.stringify({\r\n                        dice: rollValues,\r\n                        modifier: +this.modifier,\r\n                        advantage: this.selectedAdvantageOption,\r\n                        playerId: 'DM ROLL (only you see this)',\r\n                    })\r\n                );\r\n            } else {\r\n                this.$emit(\r\n                    'diceRoll',\r\n                    JSON.stringify({\r\n                        dice: rollValues,\r\n                        modifier: +this.modifier,\r\n                        advantage: this.selectedAdvantageOption,\r\n                        playerId: '++defaultPlayerId++',\r\n                    })\r\n                );\r\n            }\r\n        },\r\n        clearDice() {\r\n            const diceKeys = Object.keys(this.diceAmounts);\r\n            diceKeys.forEach((k: string) => {\r\n                const keyAsNumber = +k;\r\n                this.diceAmounts[keyAsNumber] = 0;\r\n            });\r\n        },\r\n        clearModifier() {\r\n            this.modifier = 0;\r\n        },\r\n        clearAll() {\r\n            this.clearDice();\r\n            this.clearModifier();\r\n        },\r\n    },\r\n    computed: {\r\n        disableRoll(): boolean {\r\n            const amounts = Object.values(this.diceAmounts).flat();\r\n            for (let i = 0; i < amounts.length; i++) {\r\n                if (amounts[i] > 0) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n        advantageHelperText(): string {\r\n            const helperTexts = {\r\n                normal: 'All d20s rolled will be included in the total',\r\n                advantage: 'Only the highest d20 will be included in the total',\r\n                disadvantage:\r\n                    'Only the lowest d20 will be included in the total',\r\n            };\r\n\r\n            return helperTexts[this.selectedAdvantageOption];\r\n        },\r\n        isDM() {\r\n            return this.$store.state.isDM;\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DiceRoller.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DiceRoller.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DiceRoller.vue?vue&type=template&id=76e4f1c8&scoped=true&\"\nimport script from \"./DiceRoller.vue?vue&type=script&lang=ts&\"\nexport * from \"./DiceRoller.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DiceRoller.vue?vue&type=style&index=0&id=76e4f1c8&prod&scoped=true&lang=css&\"\nimport style1 from \"./DiceRoller.vue?vue&type=style&index=1&id=76e4f1c8&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76e4f1c8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('b-alert',{staticClass:\"dice-result\",attrs:{\"show\":\"\",\"variant\":\"dark\",\"fade\":\"\"}},[_c('div',{staticClass:\"roll-metadata\"},[_c('span',{staticClass:\"roll-player\"},[_vm._v(_vm._s(_vm.playerId))]),(_vm.time)?_c('span',{staticClass:\"roll-time\"},[_vm._v(\"(\"+_vm._s(_vm.time)+\")\")]):_vm._e()]),_c('div',{staticClass:\"dice-section\"},[_vm._l((_vm.diceSections.twenties),function(die,index){return _c('IndividualDie',{key:`${die.dieType}-${index}`,attrs:{\"dieType\":die.dieType,\"value\":die.value,\"ignore\":die.ignore,\"index\":0,\"static\":_vm.static},on:{\"done\":_vm.rollDone}})}),_vm._l((_vm.diceSections.others),function(die,index){return _c('IndividualDie',{key:`${die.dieType}-${index}`,attrs:{\"dieType\":die.dieType,\"value\":die.value,\"ignore\":die.ignore,\"index\":_vm.diceSections.twenties.length + index,\"static\":_vm.static},on:{\"done\":_vm.rollDone}})})],2),_c('Transition',{attrs:{\"name\":\"fade\"}},[(_vm.rollingDone || _vm.static)?_c('div',{staticClass:\"roll-value\"},[_c('span',{staticClass:\"components\"},[_vm._v(\" \"+_vm._s(_vm.rollComponents)+\" \")]),_c('span',{staticClass:\"total-value\"},[_vm._v(\" \"+_vm._s(_vm.roll.value() + _vm.roll.modifier))])]):_vm._e()])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","type Die = {\r\n    dieType: number;\r\n    value: number;\r\n    ignore: boolean;\r\n};\r\n\r\nexport default class RollResult {\r\n    public dice: { [key: number]: Array<number> };\r\n    public modifier: number;\r\n    public advantage: 'normal' | 'advantage' | 'disadvantage';\r\n    public playerId: string;\r\n\r\n    constructor(rollResultString: string) {\r\n        const data = JSON.parse(rollResultString);\r\n        this.dice = data.dice;\r\n        this.modifier = data.modifier;\r\n        this.advantage = data.advantage;\r\n        this.playerId = data.playerId;\r\n    }\r\n\r\n    toDiceArray(): Array<Die> {\r\n        const diceTypes = [20, 12, 10, 8, 6, 4];\r\n        const dice = [] as Array<Die>;\r\n\r\n        for (const type of diceTypes) {\r\n            const rolls = this.dice[type];\r\n            for (const value of rolls) {\r\n                let ignore = false;\r\n\r\n                if (type === 20) {\r\n                    if (this.advantage === 'advantage') {\r\n                        ignore = value < Math.max(...rolls);\r\n                    } else if (this.advantage === 'disadvantage') {\r\n                        ignore = value > Math.min(...rolls);\r\n                    }\r\n                }\r\n\r\n                dice.push({\r\n                    dieType: type,\r\n                    value: value,\r\n                    ignore: ignore,\r\n                });\r\n            }\r\n        }\r\n        return dice;\r\n    }\r\n\r\n    numDice(): number {\r\n        return Object.values(this.dice).flat().length;\r\n    }\r\n\r\n    isCritSuccess(): boolean {\r\n        if (!this.dice[20] || this.dice[20].length === 0) return false;\r\n\r\n        if (this.advantage === 'advantage' || this.dice[20].length === 1) {\r\n            const maxD20 = Math.max(...this.dice[20]);\r\n            return maxD20 === 20;\r\n        } else if (this.advantage === 'disadvantage') {\r\n            const minD20 = Math.min(...this.dice[20]);\r\n            return minD20 === 20;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    isCritFail(): boolean {\r\n        if (!this.dice[20] || this.dice[20].length === 0) return false;\r\n\r\n        if (this.advantage === 'advantage' || this.dice[20].length === 1) {\r\n            const maxD20 = Math.max(...this.dice[20]);\r\n            return maxD20 === 1;\r\n        } else if (this.advantage === 'disadvantage') {\r\n            const minD20 = Math.min(...this.dice[20]);\r\n            return minD20 === 1;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    dmValue(): string {\r\n        if (this.isCritSuccess()) {\r\n            return 'NAT 20';\r\n        }\r\n\r\n        if (this.isCritFail()) {\r\n            return 'NAT 1';\r\n        }\r\n\r\n        return String(this.value());\r\n    }\r\n\r\n    value(): number {\r\n        const numDice = this.numDice();\r\n        if (numDice === 0) {\r\n            return 0;\r\n        }\r\n\r\n        if (!this.dice[20] || this.dice[20].length === 0) {\r\n            return Object.values(this.dice)\r\n                .flat()\r\n                .reduce((a, b) => a + b);\r\n        }\r\n\r\n        if (this.advantage === 'advantage' && this.dice[20].length > 0) {\r\n            const d20Key = 20;\r\n            const { [d20Key]: d20s, ...otherDice } = this.dice;\r\n            const maxD20 = Math.max(...d20s);\r\n            const otherDiceValues = Object.values(otherDice).flat();\r\n\r\n            if (otherDiceValues.length === 0) {\r\n                return maxD20;\r\n            }\r\n\r\n            const otherDiceTotal = otherDiceValues.reduce((a, b) => a + b);\r\n            return maxD20 + otherDiceTotal;\r\n        } else if (\r\n            this.advantage === 'disadvantage' &&\r\n            this.dice[20].length > 0\r\n        ) {\r\n            const d20Key = 20;\r\n            const { [d20Key]: d20s, ...otherDice } = this.dice;\r\n            const minD20 = Math.min(...d20s);\r\n            const otherDiceValues = Object.values(otherDice).flat();\r\n\r\n            if (otherDiceValues.length === 0) {\r\n                return minD20;\r\n            }\r\n\r\n            const otherDiceTotal = otherDiceValues.reduce((a, b) => a + b);\r\n            return minD20 + otherDiceTotal;\r\n        }\r\n\r\n        return Object.values(this.dice)\r\n            .flat()\r\n            .reduce((a, b) => a + b);\r\n    }\r\n}\r\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('span',{staticClass:\"die-span\"},[(!_vm.rolling)?_c('span',{staticClass:\"individual-die\",class:{ crit: _vm.crit, fail: _vm.fail, ignore: _vm.ignore }},[_c('b-icon',{attrs:{\"icon\":_vm.dieIcon}}),_c('span',{staticClass:\"die-value\"},[_vm._v(_vm._s(_vm.value))])],1):_vm._e(),(_vm.rolling)?_c('span',[_c('div',{staticClass:\"individual-die spinning\"},[_c('b-icon',{attrs:{\"icon\":_vm.dieIcon}})],1)]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Vue from 'vue';\r\n\r\nexport default Vue.extend({\r\n    name: 'IndividualDie',\r\n    props: {\r\n        dieType: {\r\n            type: Number,\r\n            required: true,\r\n        },\r\n        value: {\r\n            type: Number,\r\n            required: true,\r\n        },\r\n        ignore: {\r\n            type: Boolean,\r\n            required: true,\r\n        },\r\n        index: {\r\n            type: Number,\r\n            required: true,\r\n        },\r\n        static: Boolean,\r\n    },\r\n    data() {\r\n        return {\r\n            icons: {\r\n                20: 'hexagon-fill',\r\n                12: 'pentagon-fill',\r\n                10: 'diamond-fill',\r\n                8: 'diamond-fill',\r\n                6: 'square-fill',\r\n                4: 'triangle-fill',\r\n            } as { [key: number]: string },\r\n            rolling: true,\r\n            rollTimeMs: 1000,\r\n        };\r\n    },\r\n    created() {\r\n        if (this.static) {\r\n            this.rolling = false;\r\n        }\r\n    },\r\n    mounted() {\r\n        setTimeout(() => {\r\n            this.rolling = false;\r\n            this.$emit('done');\r\n        }, this.rollTimeMs + this.index * 300);\r\n    },\r\n    computed: {\r\n        dieIcon(): string {\r\n            return this.icons[this.dieType];\r\n        },\r\n        crit(): boolean {\r\n            if (this.dieType !== 20) return false;\r\n\r\n            return this.value === 20;\r\n        },\r\n        fail(): boolean {\r\n            if (this.dieType !== 20) return false;\r\n\r\n            return this.value === 1;\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IndividualDie.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IndividualDie.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./IndividualDie.vue?vue&type=template&id=3aefa33e&scoped=true&\"\nimport script from \"./IndividualDie.vue?vue&type=script&lang=ts&\"\nexport * from \"./IndividualDie.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./IndividualDie.vue?vue&type=style&index=0&id=3aefa33e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3aefa33e\",\n  null\n  \n)\n\nexport default component.exports","\r\nimport { defineComponent } from 'vue';\r\nimport RollResult from '@/models/RollResult';\r\n\r\nimport IndividualDie from './IndividualDie.vue';\r\n\r\nexport default defineComponent({\r\n    name: 'DiceResult',\r\n    components: {\r\n        IndividualDie,\r\n    },\r\n    props: {\r\n        roll: { type: RollResult, required: true },\r\n        show: Boolean,\r\n        static: Boolean,\r\n        time: String,\r\n    },\r\n    data() {\r\n        return {\r\n            rollsCompleted: 0,\r\n        };\r\n    },\r\n    methods: {\r\n        rollDone(): void {\r\n            this.rollsCompleted += 1;\r\n        },\r\n    },\r\n    computed: {\r\n        playerId(): string {\r\n            return this.roll.playerId;\r\n        },\r\n        dice(): Array<{\r\n            dieType: number;\r\n            value: number;\r\n            ignore: boolean;\r\n        }> {\r\n            return this.roll.toDiceArray();\r\n        },\r\n        diceSections(): {\r\n            [key: string]: Array<{\r\n                dieType: number;\r\n                value: number;\r\n                ignore: boolean;\r\n            }>;\r\n        } {\r\n            const d20s = this.dice.filter((d) => d.dieType === 20);\r\n            const others = this.dice.filter((d) => d.dieType !== 20);\r\n            return {\r\n                twenties: d20s,\r\n                others: others,\r\n            };\r\n        },\r\n        rollingDone(): boolean {\r\n            return this.rollsCompleted === this.roll.numDice();\r\n        },\r\n        rollComponents(): string {\r\n            const value = this.roll.value();\r\n            const modifier = this.roll.modifier;\r\n            const operator = modifier < 0 ? '-' : '+';\r\n\r\n            return `${value} ${operator} ${Math.abs(modifier)} =`;\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DiceResult.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DiceResult.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DiceResult.vue?vue&type=template&id=80418782&scoped=true&\"\nimport script from \"./DiceResult.vue?vue&type=script&lang=ts&\"\nexport * from \"./DiceResult.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DiceResult.vue?vue&type=style&index=0&id=80418782&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"80418782\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('b-alert',{staticClass:\"dm-roll dice-result\",attrs:{\"show\":\"\",\"variant\":\"dark\",\"fade\":\"\"}},[_c('div',{staticClass:\"roll-metadata\"},[_c('span',{staticClass:\"roll-player\"},[_vm._v(\"THE DM HAS ROLLED\")]),(_vm.time)?_c('span',{staticClass:\"roll-time\"},[_vm._v(\"(\"+_vm._s(_vm.time)+\")\")]):_vm._e()]),_c('div',{staticClass:\"dice-section\"},[_c('Transition',{attrs:{\"name\":\"fade\"}},[(!_vm.rollDone && !_vm.static)?_c('div',{staticClass:\"dm-roll-value\",attrs:{\"animation\":\"spin\"}},[_c('b-icon',{staticClass:\"question-icon\",attrs:{\"icon\":\"question-circle\"}})],1):_c('div',[_c('span',{staticClass:\"dm-roll-value\",class:{\n                        'crit-success': _vm.critSuccess,\n                        'crit-fail': _vm.critFail,\n                        'normal-result': _vm.normalResult,\n                    }},[_vm._v(\" \"+_vm._s(_vm.result)+\" \")])])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport { defineComponent } from 'vue';\r\n\r\nexport default defineComponent({\r\n    name: 'DmRollResult',\r\n    props: {\r\n        result: String,\r\n        show: Boolean,\r\n        static: Boolean,\r\n        time: String,\r\n    },\r\n    data() {\r\n        return {\r\n            rollDone: false,\r\n        };\r\n    },\r\n    mounted() {\r\n        setTimeout(() => {\r\n            this.rollDone = true;\r\n        }, 1000);\r\n    },\r\n    methods: {},\r\n    computed: {\r\n        critSuccess(): boolean {\r\n            return this.result === 'NAT 20';\r\n        },\r\n        critFail(): boolean {\r\n            return this.result === 'NAT 1';\r\n        },\r\n        normalResult(): boolean {\r\n            return !this.critSuccess && !this.critFail;\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DmRollResult.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DmRollResult.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DmRollResult.vue?vue&type=template&id=3355d2a8&scoped=true&\"\nimport script from \"./DmRollResult.vue?vue&type=script&lang=ts&\"\nexport * from \"./DmRollResult.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DmRollResult.vue?vue&type=style&index=0&id=3355d2a8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3355d2a8\",\n  null\n  \n)\n\nexport default component.exports","import { io } from 'socket.io-client';\r\n\r\nconst URL =\r\n    process.env.NODE_ENV === 'production'\r\n        ? `https://${window.location.host}`\r\n        : 'ws://localhost:3333';\r\n\r\nconst connectSocket = (\r\n    gameId: string,\r\n    playerId: string,\r\n    enterAsDm: boolean\r\n) => {\r\n    const gameIdEncoded = encodeURIComponent(gameId);\r\n    const playerIdEncoded = encodeURIComponent(playerId);\r\n    const enterAsDmString = enterAsDm ? '&enterAsDm=true' : '';\r\n    const socket = io(\r\n        `${URL}?gameId=${gameIdEncoded}&playerId=${playerIdEncoded}${enterAsDmString}`,\r\n        {\r\n            withCredentials: true,\r\n        }\r\n    );\r\n\r\n    socket.on('connect', () => {\r\n        console.log(`%cGame Connected: ${gameId}`, 'color: #66ff00');\r\n        socket.emit('getMarkers');\r\n        socket.emit('getNormalRolls');\r\n        socket.emit('getDmRolls');\r\n    });\r\n\r\n    socket.on('disconnect', () => {\r\n        console.log(`%cGame Disconnected: ${gameId}`, 'color: #dc3545');\r\n    });\r\n\r\n    return socket;\r\n};\r\n\r\nexport default connectSocket;\r\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"roll-log\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"Roll History\")]),_c('div',{staticClass:\"rolls\"},_vm._l((_vm.allRolls),function(roll,index){return _c('div',{key:`${roll.timestamp}-${index}`},[(roll.type === 'dm')?_c('DmRollResult',{attrs:{\"result\":roll.data,\"static\":true,\"time\":_vm.time(roll.timestamp)}}):_c('DiceResult',{attrs:{\"roll\":roll.data.rollResult,\"static\":true,\"time\":_vm.time(roll.timestamp)}})],1)}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport { defineComponent } from 'vue';\r\nimport DiceResult from './DiceResult.vue';\r\nimport DmRollResult from './DmRollResult.vue';\r\n\r\nexport default defineComponent({\r\n    name: 'RollLog',\r\n    components: {\r\n        DiceResult,\r\n        DmRollResult,\r\n    },\r\n    props: ['rolls', 'dmRolls'],\r\n    methods: {\r\n        time(timestamp: number): string {\r\n            return new Date(timestamp).toLocaleString();\r\n        },\r\n    },\r\n    computed: {\r\n        allRolls(): any[] {\r\n            const normalRolls = this.rolls.map((rollData: any) => {\r\n                return {\r\n                    type: 'normal',\r\n                    data: rollData,\r\n                    timestamp: rollData.timestamp,\r\n                };\r\n            });\r\n            const dmRolls = this.dmRolls.map((rollData: any) => {\r\n                return {\r\n                    type: 'dm',\r\n                    data: rollData.result,\r\n                    timestamp: rollData.timestamp,\r\n                };\r\n            });\r\n            return normalRolls\r\n                .concat(dmRolls)\r\n                .sort(\r\n                    (\r\n                        a: { type: string; data: any; timestamp: number },\r\n                        b: { type: string; data: any; timestamp: number }\r\n                    ) => {\r\n                        return a.timestamp - b.timestamp;\r\n                    }\r\n                );\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RollLog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RollLog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RollLog.vue?vue&type=template&id=9ab4d306&scoped=true&\"\nimport script from \"./RollLog.vue?vue&type=script&lang=ts&\"\nexport * from \"./RollLog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RollLog.vue?vue&type=style&index=0&id=9ab4d306&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9ab4d306\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"layer-manager\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"Manage Layers\")]),_c('div',{staticClass:\"layers\"},[_c('draggable',{on:{\"update\":_vm.dropLayer},model:{value:(_vm.markerLayers),callback:function ($$v) {_vm.markerLayers=$$v},expression:\"markerLayers\"}},_vm._l((_vm.markerLayers),function(markerLayer){return _c('div',{key:markerLayer.id,staticClass:\"marker-layer\"},[_c('div',{staticClass:\"marker-layer-area\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(markerLayer.toSvgString())}}),_c('div',{staticClass:\"marker-layer-name\"},[_vm._v(\" \"+_vm._s(_vm.truncateMarkerName(markerLayer.name))+\" \")])])])}),0)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport { defineComponent, type PropType } from 'vue';\r\nimport Marker from '@/models/Marker';\r\nimport draggable from 'vuedraggable';\r\n\r\nexport default defineComponent({\r\n    name: 'LayerManager',\r\n    components: {\r\n        draggable,\r\n    },\r\n    props: {\r\n        markers: { type: Array as PropType<Array<Marker>>, required: true },\r\n    },\r\n    created() {\r\n        this.markerLayers = this.markers.slice().reverse();\r\n    },\r\n    data() {\r\n        return {\r\n            markerLayers: [] as Array<Marker>,\r\n        };\r\n    },\r\n    methods: {\r\n        truncateMarkerName(name: string) {\r\n            if (name.length > 14) {\r\n                return name.slice(0, 14) + '...';\r\n            }\r\n            return name;\r\n        },\r\n        dropLayer() {\r\n            for (let i = 0; i < this.markerLayers.length; i++) {\r\n                const marker = this.markerLayers[i];\r\n                if (marker.layer !== this.markerLayers.length - i) {\r\n                    marker.setLayer(this.markerLayers.length - i);\r\n                }\r\n            }\r\n            this.$emit('updateMarkerLayers');\r\n        },\r\n    },\r\n    watch: {\r\n        markers: function (newVal: Array<Marker>) {\r\n            this.markerLayers = newVal.slice().reverse();\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LayerManager.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LayerManager.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LayerManager.vue?vue&type=template&id=94be9a2a&scoped=true&\"\nimport script from \"./LayerManager.vue?vue&type=script&lang=ts&\"\nexport * from \"./LayerManager.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./LayerManager.vue?vue&type=style&index=0&id=94be9a2a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"94be9a2a\",\n  null\n  \n)\n\nexport default component.exports","\r\nimport Vue from 'vue';\r\n\r\nimport BattleMap from '@/models/BattleMap';\r\nimport Marker from '@/models/Marker';\r\nimport MarkerMovement from '@/models/MarkerMovement';\r\n\r\nimport EntityMarker from '@/components/EntityMarker.vue';\r\nimport MarkerBuilder from './MarkerBuilder.vue';\r\nimport DiceRoller from './DiceRoller.vue';\r\nimport DiceResult from './DiceResult.vue';\r\nimport DmRollResult from './DmRollResult.vue';\r\n\r\nimport connectSocket from '@/socket';\r\nimport { Socket } from 'socket.io-client';\r\nimport RollResult from '@/models/RollResult';\r\n\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport RollLog from './RollLog.vue';\r\n\r\nimport DiceResultComp from '@/models/DiceResultComp';\r\n\r\nimport LayerManager from './LayerManager.vue';\r\n\r\nlet socket: Socket;\r\n\r\nexport default Vue.extend({\r\n    name: 'BattleMap',\r\n    props: {\r\n        gameId: String,\r\n        playerId: String,\r\n        enterAsDm: Boolean,\r\n    },\r\n    components: {\r\n        EntityMarker,\r\n        MarkerBuilder,\r\n        DiceRoller,\r\n        DiceResult,\r\n        DmRollResult,\r\n        RollLog,\r\n        LayerManager,\r\n    },\r\n    mounted() {\r\n        this.map = new BattleMap();\r\n        this.pageResized = !this.pageResized;\r\n\r\n        socket = connectSocket(this.gameId, this.playerId, this.enterAsDm);\r\n        this.$emit('setSocket', socket);\r\n\r\n        socket.connect();\r\n\r\n        socket.on(`${this.gameIdSafe}::markerError`, (message: string) => {\r\n            this.$bvToast.toast(message, {\r\n                title: 'Marker Error',\r\n                variant: 'warning',\r\n            });\r\n        });\r\n\r\n        socket.on(\r\n            `${this.gameIdSafe}::addNormalRollToLog`,\r\n            (rollStringWithTimestamp: string) => {\r\n                const parts = rollStringWithTimestamp.split('::timestamp::');\r\n\r\n                const timestamp = +parts.slice(-1)[0];\r\n                const rollString = parts[0];\r\n\r\n                this.rollsLog.unshift({\r\n                    timestamp,\r\n                    rollResult: new RollResult(rollString),\r\n                });\r\n            }\r\n        );\r\n\r\n        socket.on(\r\n            `${this.gameIdSafe}::addDmRollToLog`,\r\n            (rollStringWithTimestamp: string) => {\r\n                const parts = rollStringWithTimestamp.split('::timestamp::');\r\n\r\n                const timestamp = +parts.slice(-1)[0];\r\n                const rollString = parts[0];\r\n\r\n                this.dmRollsLog.unshift({\r\n                    timestamp,\r\n                    result: rollString,\r\n                });\r\n            }\r\n        );\r\n\r\n        socket.on(`${this.gameIdSafe}::normalRoll`, (rollString: string) => {\r\n            this.displayRoll(rollString);\r\n        });\r\n\r\n        socket.on(`${this.gameIdSafe}::dmRoll`, (dmRollValue: string) => {\r\n            this.displayDmRoll(dmRollValue);\r\n        });\r\n\r\n        socket.on(`${this.gameIdSafe}::addMarker`, (markerString: string) => {\r\n            const mData = JSON.parse(markerString);\r\n            const marker = new Marker(\r\n                mData.name,\r\n                mData.color,\r\n                mData.fontColor,\r\n                mData.x,\r\n                mData.y,\r\n                mData.radius,\r\n                mData.condition,\r\n                mData.height,\r\n                mData.layer,\r\n                mData.id\r\n            );\r\n            this.map.addMarker(marker);\r\n        });\r\n\r\n        socket.on(\r\n            `${this.gameIdSafe}::markerMoved`,\r\n            (markerMovementString: string) => {\r\n                const movement: MarkerMovement =\r\n                    JSON.parse(markerMovementString);\r\n                const movedMarker = this.map.markers.find(\r\n                    (m) => m.id === movement.id\r\n                );\r\n\r\n                if (movedMarker) {\r\n                    movedMarker.moveMarkerToSmooth(movement.x, movement.y);\r\n                }\r\n            }\r\n        );\r\n\r\n        socket.on(`${this.gameIdSafe}::removeMarker`, (markerId: string) => {\r\n            this.map.removeMarker(markerId);\r\n        });\r\n\r\n        socket.on(\r\n            `${this.gameIdSafe}::updateMarkerTraits`,\r\n            (markerString: string) => {\r\n                const updatedMarker = JSON.parse(markerString);\r\n                const markerToUpdate = this.map.markers.find(\r\n                    (m) => m.id === updatedMarker.id\r\n                );\r\n\r\n                if (markerToUpdate) {\r\n                    markerToUpdate.setName(updatedMarker.name);\r\n                    markerToUpdate.setColor(updatedMarker.color);\r\n                    markerToUpdate.setFontColor(updatedMarker.fontColor);\r\n                    markerToUpdate.setRadius(updatedMarker.radius);\r\n                    markerToUpdate.setCondition(updatedMarker.condition);\r\n                    markerToUpdate.setHeight(updatedMarker.height);\r\n                    markerToUpdate.setLayer(updatedMarker.layer);\r\n                }\r\n            }\r\n        );\r\n\r\n        window.addEventListener('resize', () => {\r\n            this.pageResized = !this.pageResized;\r\n        });\r\n    },\r\n    data() {\r\n        return {\r\n            map: new BattleMap(),\r\n            selectedMarker: undefined as Marker | undefined,\r\n            selectedMarkerRef: undefined as HTMLElement | undefined,\r\n            editingMarker: undefined as Marker | undefined,\r\n            isDragging: false,\r\n            currentLocation: {\r\n                x: 0,\r\n                y: 0,\r\n            },\r\n            pageResized: false,\r\n            tabs: {\r\n                BUILDER: 'builder',\r\n                DICE: 'dice',\r\n                LOG: 'log',\r\n                LAYERS: 'layers',\r\n            },\r\n            selectedTab: 'builder',\r\n            diceResults: [] as Array<DiceResultComp>,\r\n            dmResults: [] as Array<any>,\r\n            rollsLog: [] as Array<{\r\n                rollResult: RollResult;\r\n                timestamp: number;\r\n            }>,\r\n            dmRollsLog: [] as Array<{\r\n                result: string;\r\n                timestamp: number;\r\n            }>,\r\n        };\r\n    },\r\n    methods: {\r\n        emitDiceRoll(rollString: string) {\r\n            socket.emit('normalRoll', rollString);\r\n        },\r\n\r\n        emitDmRoll(rollString: string) {\r\n            this.displayRoll(rollString);\r\n            const result = this.calculateDmRollResult(rollString);\r\n            socket.emit('dmRoll', result);\r\n        },\r\n\r\n        calculateDmRollResult(rollString: string): string {\r\n            const roll = new RollResult(rollString);\r\n            return roll.dmValue();\r\n        },\r\n\r\n        displayRoll(rollString: string) {\r\n            const result = {\r\n                roll: new RollResult(rollString),\r\n                id: uuidv4(),\r\n            };\r\n            this.diceResults.push(result);\r\n\r\n            const duration = result.roll.numDice() * 300 + 5000;\r\n            setTimeout(() => {\r\n                this.diceResults = this.diceResults.filter(\r\n                    (r: DiceResultComp) => {\r\n                        return r.id !== result.id;\r\n                    }\r\n                );\r\n            }, duration);\r\n        },\r\n\r\n        displayDmRoll(dmRollValue: string) {\r\n            const result = { id: uuidv4(), dmRollValue: dmRollValue };\r\n            this.dmResults.push(result);\r\n\r\n            const duration = 5300;\r\n            setTimeout(() => {\r\n                this.dmResults = this.dmResults.filter((r: any) => {\r\n                    return r.id !== result.id;\r\n                });\r\n            }, duration);\r\n        },\r\n\r\n        isSelectedTab(tabName: string): boolean {\r\n            return this.selectedTab === tabName;\r\n        },\r\n        addMarker(markerForm: {\r\n            name: string;\r\n            color: string;\r\n            fontColor: string;\r\n            size: string;\r\n            condition: string;\r\n            height: number;\r\n            layer: number;\r\n        }): void {\r\n            const { name, color, fontColor, size, condition, height } =\r\n                markerForm;\r\n\r\n            const layer = this.map.getNextLayer();\r\n\r\n            const marker = new Marker(\r\n                name,\r\n                color,\r\n                fontColor,\r\n                500,\r\n                500,\r\n                +size,\r\n                condition,\r\n                height,\r\n                layer\r\n            );\r\n            this.map.addMarker(marker);\r\n\r\n            socket.emit('addMarker', marker.toString());\r\n        },\r\n        onMousemove(event: MouseEvent): void {\r\n            event.preventDefault();\r\n\r\n            if (this.selectedMarker && this.isDragging && this.screenCTM) {\r\n                const newX =\r\n                    (event.clientX - this.screenCTM.e) / this.screenCTM.a;\r\n                const newY =\r\n                    (event.clientY - this.screenCTM.f) / this.screenCTM.d;\r\n\r\n                this.selectedMarker.moveMarkerTo(newX, newY);\r\n            }\r\n\r\n            this.currentLocation = {\r\n                x: event.clientX,\r\n                y: event.clientY,\r\n            };\r\n        },\r\n        markerMoved(markerMovement: MarkerMovement): void {\r\n            socket.emit('moveMarker', JSON.stringify(markerMovement));\r\n        },\r\n        removeMarker(markerId: string): void {\r\n            this.map.removeMarker(markerId);\r\n            this.editingMarker = undefined;\r\n            socket.emit('removeMarker', markerId);\r\n        },\r\n        pickUpMarker(data: { marker: Marker; ref: HTMLElement }): void {\r\n            this.selectedMarker = data.marker;\r\n            this.selectedMarkerRef = data.ref;\r\n            this.isDragging = true;\r\n        },\r\n        putDownMarker(): void {\r\n            if (this.selectedMarker && this.isDragging) {\r\n                this.isDragging = false;\r\n\r\n                if (this.selectedMarkerTrashHover) {\r\n                    this.removeMarker(this.selectedMarker.id);\r\n                    return;\r\n                }\r\n\r\n                const movement = {\r\n                    id: this.selectedMarker.id,\r\n                    x: this.selectedMarker.x,\r\n                    y: this.selectedMarker.y,\r\n                };\r\n\r\n                socket.emit('moveMarker', JSON.stringify(movement));\r\n            }\r\n        },\r\n        editMarker(marker: Marker): void {\r\n            this.editingMarker = marker;\r\n            this.selectedTab = this.tabs.BUILDER;\r\n        },\r\n        updateMarker(): void {\r\n            if (!this.editingMarker) {\r\n                return;\r\n            }\r\n\r\n            const markerString = JSON.stringify(this.editingMarker);\r\n            this.editingMarker = undefined;\r\n            socket.emit('updateMarkerTraits', markerString);\r\n        },\r\n        updateMarkerLayers() {\r\n            for (let i = 0; i < this.markers.length; i++) {\r\n                const markerString = JSON.stringify(this.markers[i]);\r\n                socket.emit('updateMarkerTraits', markerString);\r\n            }\r\n        },\r\n        cancelEditMarker(): void {\r\n            this.editingMarker = undefined;\r\n        },\r\n    },\r\n    computed: {\r\n        gameIdSafe(): string {\r\n            return encodeURIComponent(this.gameId);\r\n        },\r\n        markers(): Marker[] {\r\n            return this.map.getMarkers();\r\n        },\r\n        screenCTM(): SVGMatrix | null {\r\n            this.pageResized;\r\n            const map = this.$refs.map as SVGGraphicsElement;\r\n            return map.getScreenCTM();\r\n        },\r\n        selectedMarkerTrashHover(): boolean {\r\n            this.currentLocation.x;\r\n            this.currentLocation.y;\r\n            if (!this.selectedMarkerRef) return false;\r\n\r\n            const trashArea = this.$refs.trashArea as HTMLElement;\r\n\r\n            const markerBB = this.selectedMarkerRef.getBoundingClientRect();\r\n            const trashBB = trashArea.getBoundingClientRect();\r\n\r\n            return !(\r\n                markerBB.right < trashBB.left ||\r\n                markerBB.left > trashBB.right ||\r\n                markerBB.bottom < trashBB.top ||\r\n                markerBB.top > trashBB.bottom\r\n            );\r\n        },\r\n        trashAreaStyle(): { [key: string]: string } {\r\n            const bottom = this.isDragging ? '0' : '-10%';\r\n            const backgroundColor = this.selectedMarkerTrashHover\r\n                ? 'var(--bs-danger)'\r\n                : '#000';\r\n\r\n            return {\r\n                '--trash-bottom': bottom,\r\n                '--trash-bg-color': backgroundColor,\r\n            };\r\n        },\r\n        tabSelectorStyle() {\r\n            this.pageResized;\r\n            if (!this.$refs.rightCol) return;\r\n\r\n            const rightCol = this.$refs.rightCol as HTMLElement;\r\n            const left = rightCol.getBoundingClientRect().left - 40;\r\n            const top = rightCol.getBoundingClientRect().top + 5;\r\n\r\n            return {\r\n                '--tab-top': `${top}px`,\r\n                '--tab-left': `${left}px`,\r\n            };\r\n        },\r\n        isDM() {\r\n            return this.$store.state.isDM;\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BattleMap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BattleMap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BattleMap.vue?vue&type=template&id=ea0eadc2&scoped=true&\"\nimport script from \"./BattleMap.vue?vue&type=script&lang=ts&\"\nexport * from \"./BattleMap.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BattleMap.vue?vue&type=style&index=0&id=ea0eadc2&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ea0eadc2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('b-container',{staticClass:\"join-game\",attrs:{\"fluid\":\"\"}},[_c('div',{staticClass:\"join-title\"},[_vm._v(\"Theater of the Mind Reference\")]),_c('div',{staticClass:\"join-input\"},[_c('b-form-group',{attrs:{\"label\":\"Game ID\",\"label-for\":\"game-id\"}},[_c('b-form-input',{attrs:{\"id\":\"game-id\",\"placeholder\":\"my-fun-little-game\"},on:{\"keyup\":_vm.submitIfEnter},model:{value:(_vm.gameId),callback:function ($$v) {_vm.gameId=$$v},expression:\"gameId\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Player Name\",\"label-for\":\"player-name\"}},[_c('b-form-input',{attrs:{\"id\":\"player-name\",\"placeholder\":\"Vincent Adultman\"},on:{\"keyup\":_vm.submitIfEnter},model:{value:(_vm.playerId),callback:function ($$v) {_vm.playerId=$$v},expression:\"playerId\"}})],1),_c('b-form-group',{attrs:{\"inline\":\"\",\"label\":\"I am the DM for this game\",\"label-for\":\"is-dm\"}},[_c('b-form-checkbox',{attrs:{\"id\":\"is-dm\"},model:{value:(_vm.enterAsDM),callback:function ($$v) {_vm.enterAsDM=$$v},expression:\"enterAsDM\"}})],1),_c('b-alert',{attrs:{\"variant\":\"warning\",\"show\":_vm.invalidDM}},[_vm._v(\" \"+_vm._s(_vm.invalidDMMessage)+\" \")])],1),_c('div',{staticClass:\"join-button\"},[_c('b-button',{attrs:{\"variant\":\"success\",\"disabled\":_vm.playerId.length === 0 || _vm.gameId.length === 0},on:{\"click\":_vm.joinGame}},[_vm._v(\" Join Game \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios';\r\n\r\nconst baseUrl =\r\n    process.env.NODE_ENV === 'production' ? '/api' : 'http://localhost:3333';\r\n\r\nconst API = axios.create({\r\n    baseURL: baseUrl,\r\n});\r\n\r\nexport default API;\r\n","\r\nimport Vue from 'vue';\r\nimport API from '@/api';\r\n\r\nexport default Vue.extend({\r\n    name: 'JoinGame',\r\n    data() {\r\n        return {\r\n            gameId: '',\r\n            playerId: '',\r\n            enterAsDM: false,\r\n            invalidDM: false,\r\n            invalidDMMessage: '',\r\n        };\r\n    },\r\n    methods: {\r\n        async joinGame(): Promise<void> {\r\n            try {\r\n                await API.post(`/join/${encodeURIComponent(this.gameId)}`, {\r\n                    playerId: this.playerId,\r\n                    enterAsDM: this.enterAsDM,\r\n                });\r\n\r\n                if (this.enterAsDM) {\r\n                    this.$store.dispatch('setAsDM');\r\n                }\r\n                this.$emit(\r\n                    'joinedGame',\r\n                    this.gameId,\r\n                    this.playerId,\r\n                    this.enterAsDM\r\n                );\r\n            } catch (err: any) {\r\n                console.error('Error joining game: ', err);\r\n                if (err?.response?.status === 409) {\r\n                    this.invalidDMMessage = err.response.data;\r\n                    this.showInvalidDM();\r\n                }\r\n            }\r\n        },\r\n        submitIfEnter(event: KeyboardEvent) {\r\n            if (this.gameId.length === 0 || this.playerId.length === 0) {\r\n                return;\r\n            }\r\n\r\n            if (event.key === 'Enter') {\r\n                this.joinGame();\r\n            }\r\n        },\r\n        showInvalidDM() {\r\n            this.invalidDM = true;\r\n        },\r\n    },\r\n    computed: {},\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./JoinGame.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./JoinGame.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./JoinGame.vue?vue&type=template&id=fb3bb936&scoped=true&\"\nimport script from \"./JoinGame.vue?vue&type=script&lang=ts&\"\nexport * from \"./JoinGame.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./JoinGame.vue?vue&type=style&index=0&id=fb3bb936&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fb3bb936\",\n  null\n  \n)\n\nexport default component.exports","\r\nimport Vue from 'vue';\r\n\r\nimport BattleMap from './components/BattleMap.vue';\r\nimport JoinGame from './components/JoinGame.vue';\r\n\r\nimport { Socket } from 'socket.io-client';\r\n\r\nexport default Vue.extend({\r\n    name: 'App',\r\n    components: {\r\n        BattleMap,\r\n        JoinGame,\r\n    },\r\n    data() {\r\n        return {\r\n            gameJoined: false,\r\n            gameId: '',\r\n            playerId: '',\r\n            enterAsDm: false,\r\n            socket: undefined as Socket | undefined,\r\n        };\r\n    },\r\n    methods: {\r\n        joinedGame(gameId: string, playerId: string, enterAsDm: boolean) {\r\n            this.gameId = gameId;\r\n            this.playerId = playerId;\r\n            this.gameJoined = true;\r\n            this.enterAsDm = enterAsDm;\r\n        },\r\n        setSocket(socket: Socket) {\r\n            this.socket = socket;\r\n        },\r\n        disconnectSocket() {\r\n            if (this.socket) {\r\n                this.socket.disconnect();\r\n            }\r\n        },\r\n        goBack() {\r\n            this.gameJoined = false;\r\n            this.disconnectSocket();\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7ce48bfe&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=7ce48bfe&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n\r\nVue.use(Vuex);\r\n\r\nconst store = new Vuex.Store({\r\n    state: {\r\n        isDM: false,\r\n    },\r\n    mutations: {\r\n        setAsDM(state) {\r\n            state.isDM = true;\r\n        },\r\n    },\r\n    actions: {\r\n        setAsDM(context) {\r\n            context.commit('setAsDM');\r\n        },\r\n    },\r\n});\r\n\r\nexport default store;\r\n","import Vue from 'vue';\r\nimport App from './App.vue';\r\nimport store from './store';\r\n\r\nimport '@/assets/globals.css';\r\n\r\nimport { BootstrapVue, IconsPlugin, ToastPlugin } from 'bootstrap-vue';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\r\nVue.use(BootstrapVue);\r\nVue.use(IconsPlugin);\r\nVue.use(ToastPlugin);\r\n\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n    store: store,\r\n    render: (h) => h(App),\r\n}).$mount('#app');\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkui\"] = self[\"webpackChunkui\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(2242); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","_setupProxy","attrs","gameJoined","staticClass","on","goBack","_v","_e","gameId","playerId","enterAsDm","setSocket","joinedGame","staticRenderFns","staticStyle","_s","isDM","_l","diceResults","result","key","id","roll","dmResults","dmRollValue","ref","onMousemove","putDownMarker","markers","marker","index","name","isDragging","editMarker","pickUpMarker","style","trashAreaStyle","class","selected","isSelectedTab","tabs","BUILDER","tabSelectorStyle","$event","selectedTab","DICE","LOG","LAYERS","editingMarker","addMarker","updateMarker","cancelEditMarker","removeMarker","emitDiceRoll","emitDmRoll","rollsLog","dmRollsLog","updateMarkerLayers","BattleMap","constructor","Object","defineProperty","getMarkers","sort","a","b","layer","push","markerId","filter","m","getNextLayer","length","Marker","color","fontColor","x","y","radius","condition","height","uuidv4","setName","setColor","setFontColor","setRadius","setCondition","setHeight","setLayer","moveMarkerTo","moveMarkerToSmooth","xDistance","yDistance","xIncrement","yIncrement","count","interval","setInterval","clearInterval","toString","JSON","stringify","toSvgString","markerStyles","pickUp","edit","apply","arguments","markerHeight","Vue","extend","props","dragging","Boolean","methods","event","preventDefault","button","$emit","$refs","computed","cursor","shadow","borderColor","component","submit","model","value","form","callback","$$v","$set","expression","sizeOptions","size","formHeight","createMarker","deselectMarker","mounted","data","formDefaults","text","console","log","assign","watch","newMarker","diceSize","handleClick","d20","d12","d10","d8","d6","d4","diceAmounts","modifier","advantageOptions","selectedAdvantageOption","advantageHelperText","disableRoll","rollDice","clearDice","clearModifier","clearAll","components","DiceD20","DiceD12","DiceD10","DiceD8","DiceD6","DiceD4","diceValue","getRandomInt","min","max","Math","ceil","floor","random","dmRoll","rollValues","dieValue","keys","includes","i","dice","advantage","diceKeys","forEach","k","keyAsNumber","amounts","values","flat","helperTexts","normal","disadvantage","$store","state","time","diceSections","twenties","die","dieType","ignore","static","rollDone","others","rollingDone","rollComponents","RollResult","rollResultString","parse","toDiceArray","diceTypes","type","rolls","numDice","isCritSuccess","maxD20","minD20","isCritFail","dmValue","String","reduce","d20Key","_a","_b","d20s","otherDice","__rest","otherDiceValues","otherDiceTotal","_d","rolling","crit","fail","dieIcon","Number","required","icons","rollTimeMs","created","setTimeout","defineComponent","IndividualDie","show","rollsCompleted","d","operator","abs","critSuccess","critFail","normalResult","URL","window","location","host","connectSocket","gameIdEncoded","encodeURIComponent","playerIdEncoded","enterAsDmString","socket","io","withCredentials","emit","allRolls","timestamp","rollResult","DiceResult","DmRollResult","Date","toLocaleString","normalRolls","map","rollData","dmRolls","concat","dropLayer","markerLayers","markerLayer","domProps","truncateMarkerName","draggable","Array","slice","reverse","newVal","EntityMarker","MarkerBuilder","DiceRoller","RollLog","LayerManager","pageResized","connect","gameIdSafe","message","$bvToast","toast","title","variant","rollStringWithTimestamp","parts","split","rollString","unshift","displayRoll","displayDmRoll","markerString","mData","markerMovementString","movement","movedMarker","find","updatedMarker","markerToUpdate","addEventListener","selectedMarker","undefined","selectedMarkerRef","currentLocation","calculateDmRollResult","duration","r","tabName","markerForm","screenCTM","newX","clientX","e","newY","clientY","f","markerMoved","markerMovement","selectedMarkerTrashHover","getScreenCTM","trashArea","markerBB","getBoundingClientRect","trashBB","right","left","bottom","top","backgroundColor","rightCol","submitIfEnter","enterAsDM","invalidDM","invalidDMMessage","joinGame","baseUrl","API","axios","create","baseURL","post","dispatch","err","error","response","status","showInvalidDM","JoinGame","disconnectSocket","disconnect","use","Vuex","store","mutations","setAsDM","actions","context","commit","BootstrapVue","IconsPlugin","ToastPlugin","config","productionTip","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","n","getter","__esModule","definition","o","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}